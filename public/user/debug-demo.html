<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è°ƒè¯•æ§åˆ¶ç³»ç»Ÿæ¼”ç¤º</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #1a1a1a;
            color: #e0e0e0;
        }
        .container {
            background: #2d2d2d;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 20px;
            border: 1px solid #444;
        }
        h1 {
            color: #A88F5A;
            text-align: center;
            margin-bottom: 30px;
        }
        h2 {
            color: #A88F5A;
            border-bottom: 2px solid #A88F5A;
            padding-bottom: 10px;
        }
        .button-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }
        button {
            background: #B83B1D;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        button:hover {
            background: #d14f31;
        }
        .console-tip {
            background: #1e3a5f;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }
        .warning {
            background: #5d4037;
            border-left: 4px solid #ff9800;
        }
        .success {
            background: #2e7d32;
            border-left: 4px solid #4caf50;
        }
        code {
            background: #1a1a1a;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #A88F5A;
        }
        .demo-section {
            margin: 30px 0;
        }
        .command-list {
            background: #1a1a1a;
            padding: 20px;
            border-radius: 5px;
            border: 1px solid #444;
        }
        .command-list h3 {
            color: #A88F5A;
            margin-top: 0;
        }
        .command-list ul {
            list-style: none;
            padding: 0;
        }
        .command-list li {
            padding: 8px 0;
            border-bottom: 1px solid #333;
        }
        .command-list li:last-child {
            border-bottom: none;
        }
        .status-display {
            background: #1a1a1a;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            border: 1px solid #444;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ è°ƒè¯•æ§åˆ¶ç³»ç»Ÿæ¼”ç¤º</h1>
    
    <div class="container">
        <h2>ğŸ“‹ åŸºç¡€æ§åˆ¶</h2>
        <div class="console-tip">
            ğŸ’¡ è¯·æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12) æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºæ•ˆæœ
        </div>
        
        <div class="button-group">
            <button onclick="enableDebug()">å¯ç”¨å…¨å±€è°ƒè¯•</button>
            <button onclick="disableDebug()">å…³é—­å…¨å±€è°ƒè¯•</button>
            <button onclick="debugDev()">å¼€å‘è€…æ¨¡å¼</button>
            <button onclick="debugProd()">ç”Ÿäº§æ¨¡å¼</button>
        </div>
    </div>
    
    <div class="container">
        <h2>ğŸ¯ æ¨¡å—çº§æ§åˆ¶</h2>
        <div class="console-tip warning">
            âš ï¸ å…ˆä½¿ç”¨ç”Ÿäº§æ¨¡å¼å…³é—­æ‰€æœ‰è°ƒè¯•ï¼Œç„¶åé€‰æ‹©ç‰¹å®šæ¨¡å—å¼€å¯
        </div>
        
        <div class="button-group">
            <button onclick="debugModule('shop', true)">å¼€å¯å•†åº—è°ƒè¯•</button>
            <button onclick="debugModule('cart', true)">å¼€å¯è´­ç‰©è½¦è°ƒè¯•</button>
            <button onclick="debugModule('auth', true)">å¼€å¯è®¤è¯è°ƒè¯•</button>
            <button onclick="debugModule('api', true)">å¼€å¯APIè°ƒè¯•</button>
            <button onclick="debugModule('navigation', true)">å¼€å¯å¯¼èˆªè°ƒè¯•</button>
            <button onclick="debugModule('i18n', true)">å¼€å¯å›½é™…åŒ–è°ƒè¯•</button>
        </div>
    </div>
    
    <div class="container">
        <h2>ğŸ“Š çŠ¶æ€æŸ¥çœ‹</h2>
        <div class="button-group">
            <button onclick="showDebugConfig()">æŸ¥çœ‹è°ƒè¯•é…ç½®</button>
            <button onclick="DEBUG_UTILS.state()">æŸ¥çœ‹åº”ç”¨çŠ¶æ€</button>
            <button onclick="debugHelp()">æ˜¾ç¤ºå¸®åŠ©</button>
            <button onclick="testAPI()">æµ‹è¯•APIè¿æ¥</button>
            <button onclick="validateModules()">éªŒè¯æ¨¡å—ç³»ç»Ÿ</button>
        </div>
    </div>
    
    <div class="container">
        <h2>ğŸ§ª æµ‹è¯•è°ƒè¯•è¾“å‡º</h2>
        <div class="console-tip success">
            âœ… ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®æµ‹è¯•ä¸åŒç±»å‹çš„è°ƒè¯•ä¿¡æ¯è¾“å‡º
        </div>
        
        <div class="button-group">
            <button onclick="testDebugOutput()">æµ‹è¯•è°ƒè¯•è¾“å‡º</button>
            <button onclick="testModuleDebug()">æµ‹è¯•æ¨¡å—è°ƒè¯•</button>
            <button onclick="testErrorHandling()">æµ‹è¯•é”™è¯¯å¤„ç†</button>
        </div>
        
        <div id="status-display" class="status-display">
            <strong>å½“å‰çŠ¶æ€ï¼š</strong><span id="debug-status">æœªçŸ¥</span>
        </div>
    </div>
    
    <div class="container">
        <h2>ğŸ“ å¸¸ç”¨å‘½ä»¤</h2>
        <div class="command-list">
            <h3>æ§åˆ¶å°å‘½ä»¤</h3>
            <ul>
                <li><code>enableDebug()</code> - å¯ç”¨å…¨å±€è°ƒè¯•æ¨¡å¼</li>
                <li><code>disableDebug()</code> - å…³é—­å…¨å±€è°ƒè¯•æ¨¡å¼</li>
                <li><code>debugDev()</code> - å¼€å‘è€…æ¨¡å¼ï¼ˆæ˜¾ç¤ºæ‰€æœ‰è°ƒè¯•ä¿¡æ¯ï¼‰</li>
                <li><code>debugProd()</code> - ç”Ÿäº§æ¨¡å¼ï¼ˆå…³é—­æ‰€æœ‰è°ƒè¯•ä¿¡æ¯ï¼‰</li>
                <li><code>debugModule("æ¨¡å—å", true/false)</code> - æ§åˆ¶æŒ‡å®šæ¨¡å—çš„è°ƒè¯•ä¿¡æ¯</li>
                <li><code>showDebugConfig()</code> - æ˜¾ç¤ºå½“å‰è°ƒè¯•é…ç½®</li>
                <li><code>debugHelp()</code> - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯</li>
                <li><code>DEBUG_UTILS.state()</code> - æ˜¾ç¤ºåº”ç”¨çŠ¶æ€</li>
            </ul>
        </div>
    </div>
    
    <div class="container">
        <h2>ğŸ’¡ ä½¿ç”¨å»ºè®®</h2>
        <div class="console-tip">
            <h3>å¼€å‘é˜¶æ®µï¼š</h3>
            <p>1. ä½¿ç”¨ <code>debugDev()</code> æŸ¥çœ‹æ‰€æœ‰è°ƒè¯•ä¿¡æ¯</p>
            <p>2. å®šæœŸä½¿ç”¨ <code>DEBUG_UTILS.state()</code> æ£€æŸ¥åº”ç”¨çŠ¶æ€</p>
        </div>
        
        <div class="console-tip warning">
            <h3>ç‰¹å®šé—®é¢˜è°ƒè¯•ï¼š</h3>
            <p>1. å…ˆä½¿ç”¨ <code>debugProd()</code> å…³é—­æ‰€æœ‰è°ƒè¯•</p>
            <p>2. ä½¿ç”¨ <code>debugModule("æ¨¡å—å", true)</code> åªå¼€å¯ç›¸å…³æ¨¡å—</p>
        </div>
        
        <div class="console-tip success">
            <h3>ç”Ÿäº§éƒ¨ç½²å‰ï¼š</h3>
            <p>1. ä½¿ç”¨ <code>debugProd()</code> ç¡®ä¿æ‰€æœ‰è°ƒè¯•ä¿¡æ¯å…³é—­</p>
            <p>2. ä½¿ç”¨ <code>showDebugConfig()</code> éªŒè¯é…ç½®</p>
        </div>
    </div>

    <script>
        // æµ‹è¯•å‡½æ•°
        function testDebugOutput() {
            console.log('=== æµ‹è¯•è°ƒè¯•è¾“å‡º ===');
            
            DEBUG_UTILS.log('demo', 'è¿™æ˜¯ä¸€æ¡æ™®é€šæ—¥å¿—ä¿¡æ¯');
            DEBUG_UTILS.warn('demo', 'è¿™æ˜¯ä¸€æ¡è­¦å‘Šä¿¡æ¯');
            DEBUG_UTILS.error('demo', 'è¿™æ˜¯ä¸€æ¡é”™è¯¯ä¿¡æ¯');
            DEBUG_UTILS.success('demo', 'è¿™æ˜¯ä¸€æ¡æˆåŠŸä¿¡æ¯');
            
            updateStatus();
        }
        
        function testModuleDebug() {
            console.log('=== æµ‹è¯•æ¨¡å—è°ƒè¯• ===');
            
            // å…ˆå…³é—­æ‰€æœ‰è°ƒè¯•
            debugProd();
            DEBUG_UTILS.log('demo', 'è¿™æ¡ä¿¡æ¯ä¸ä¼šæ˜¾ç¤ºï¼ˆå·²å…³é—­ï¼‰');
            
            // å¼€å¯demoæ¨¡å—è°ƒè¯•
            debugModule('demo', true);
            DEBUG_UTILS.log('demo', 'å¼€å¯demoæ¨¡å—åï¼Œè¿™æ¡ä¿¡æ¯ä¼šæ˜¾ç¤º');
            DEBUG_UTILS.success('demo', 'demoæ¨¡å—è°ƒè¯•å·²å¯ç”¨');
            
            updateStatus();
        }
        
        function testErrorHandling() {
            console.log('=== æµ‹è¯•é”™è¯¯å¤„ç† ===');
            
            try {
                // æ¨¡æ‹Ÿä¸€ä¸ªé”™è¯¯
                throw new Error('è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•é”™è¯¯');
            } catch (error) {
                DEBUG_UTILS.error('demo', 'æ•è·åˆ°é”™è¯¯', error);
            }
            
            DEBUG_UTILS.warn('demo', 'é”™è¯¯å¤„ç†æµ‹è¯•å®Œæˆ');
            updateStatus();
        }
        
        function updateStatus() {
            const statusEl = document.getElementById('debug-status');
            const isGlobalDebug = window.APP_CONFIG?.DEBUG;
            const isAllModules = window.APP_CONFIG?.DEBUG_MODULES?.all;
            
            let status = '';
            if (isGlobalDebug && isAllModules) {
                status = 'å¼€å‘è€…æ¨¡å¼ (æ˜¾ç¤ºæ‰€æœ‰è°ƒè¯•ä¿¡æ¯)';
            } else if (isGlobalDebug) {
                status = 'å…¨å±€è°ƒè¯•æ¨¡å¼';
            } else if (isAllModules) {
                status = 'æ‰€æœ‰æ¨¡å—è°ƒè¯•æ¨¡å¼';
            } else {
                // æ£€æŸ¥æ˜¯å¦æœ‰å•ç‹¬å¼€å¯çš„æ¨¡å—
                const enabledModules = [];
                if (window.APP_CONFIG?.DEBUG_MODULES) {
                    Object.entries(window.APP_CONFIG.DEBUG_MODULES).forEach(([module, enabled]) => {
                        if (enabled && module !== 'all') {
                            enabledModules.push(module);
                        }
                    });
                }
                
                if (enabledModules.length > 0) {
                    status = `æ¨¡å—è°ƒè¯•æ¨¡å¼ (${enabledModules.join(', ')})`;
                } else {
                    status = 'ç”Ÿäº§æ¨¡å¼ (è°ƒè¯•å·²å…³é—­)';
                }
            }
            
            statusEl.textContent = status;
        }
        
        // é¡µé¢åŠ è½½æ—¶æ›´æ–°çŠ¶æ€
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(updateStatus, 1000);
        });
        
        // é‡å†™éƒ¨åˆ†è°ƒè¯•æ§åˆ¶å‡½æ•°ä»¥æ›´æ–°çŠ¶æ€æ˜¾ç¤º
        const originalEnableDebug = window.enableDebug;
        const originalDisableDebug = window.disableDebug;
        const originalDebugDev = window.debugDev;
        const originalDebugProd = window.debugProd;
        const originalDebugModule = window.debugModule;
        
        window.enableDebug = function() {
            const result = originalEnableDebug();
            updateStatus();
            return result;
        };
        
        window.disableDebug = function() {
            const result = originalDisableDebug();
            updateStatus();
            return result;
        };
        
        window.debugDev = function() {
            const result = originalDebugDev();
            updateStatus();
            return result;
        };
        
        window.debugProd = function() {
            const result = originalDebugProd();
            updateStatus();
            return result;
        };
        
        window.debugModule = function(module, enabled) {
            const result = originalDebugModule(module, enabled);
            updateStatus();
            return result;
        };
    </script>
</body>
</html>